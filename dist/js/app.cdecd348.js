(function(e){function t(t){for(var r,c,o=t[0],u=t[1],i=t[2],d=0,b=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(b.length)b.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06cf3":function(e,t,n){},"13e1":function(e,t,n){"use strict";n("f9e0")},"26f4":function(e,t,n){"use strict";n("06cf3")},3045:function(e,t,n){"use strict";n("31c1")},"31c1":function(e,t,n){},"3ca8":function(e,t,n){"use strict";n("5fe1")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={id:"app"},s=Object(r["g"])("div",{class:"navigation__logo"}," Tweet-t-t ",-1);function c(e,t,n,c,o,u){var i=Object(r["x"])("router-link"),l=Object(r["x"])("router-view");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["g"])("nav",null,[Object(r["g"])(i,{to:"/"},{default:Object(r["F"])((function(){return[s]})),_:1}),c.user?(Object(r["q"])(),Object(r["d"])(i,{key:0,class:"navigation__user",to:{name:"UserProfile",params:{userId:c.user._id}}},{default:Object(r["F"])((function(){return[Object(r["f"])(Object(r["z"])(c.user.UserName),1)]})),_:1},8,["to"])):Object(r["e"])("",!0)]),Object(r["g"])(l,{onOpenChat:c.openChat},null,8,["onOpenChat"])])}var o=n("5502"),u={name:"App",setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.User.user}));function n(e){var t=document.getElementById("app"),n=document.createElement("div");t.appendChild(n),e.mount(n)}return{user:t,openChat:n}}};n("9d18");u.render=c;var i=u,l=(n("45fc"),n("96cf"),n("1da1")),d=n("6c02"),b={namespaced:!0,state:{user:null},mutations:{SET_USER:function(e,t){e.user=t}},actions:{setUser:function(e,t){var n=e.commit;n("SET_USER",t)}}},f=Object(o["a"])({state:{},mutations:{},actions:{},modules:{User:b}}),p=n("bc3a"),m=n.n(p);m.a.defaults.withCredentials=!0;var g="https://vuejswebsite.herokuapp.com",O={auth:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(g+"/users/auth");case 2:return t=e.sent,console.log(t.data.loggedIn),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))()},getUser:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(g+"/users/getUser");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},getUserId:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this is the sent data",e),t.next=3,m.a.get(g+"/users/getUserId",{params:e});case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},logIn:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,m.a.get(g+"/users/login",{params:e});case 3:return n=t.sent,console.log(n.data),t.abrupt("return",n.data);case 6:case"end":return t.stop()}}),t)})))()},signUp:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post(g+"/users/signup",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},Tweet:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post(g+"/tweet/tweet",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getTweets:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(g+"/tweet/getTweets",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post(g+"/follow/follow",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getFollowing:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(g+"/follow/getFollowings",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getFollower:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(g+"/follow/getFollowers",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unFollow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.delete(g+"/follow/unfollow",{params:e});case 2:return n=t.sent,console.log(n.data),t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)})))()},makeChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post(g+"/chat/Chat",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(g+"/chat/getChat",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getMessages:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.get(g+"/chat/getMessages",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},sendMessage:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.post(g+"/chat/sendMessage",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},updateCover:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m.a.put(g+"/users/update",{data:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},j=Object(r["I"])("data-v-6d76ef5c");Object(r["t"])("data-v-6d76ef5c");var w={class:"home"},v=Object(r["g"])("h1",null,"Home",-1),h={class:"users-list"},y={key:0};Object(r["r"])();var U=j((function(e,t,n,a,s,c){var o=Object(r["x"])("TweetItem");return Object(r["q"])(),Object(r["d"])("div",w,[v,Object(r["g"])("div",h,[0===a.state.tweets.length?(Object(r["q"])(),Object(r["d"])("strong",y,"follow someone to see their tweet-t-ts")):Object(r["e"])("",!0),(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.state.tweets,(function(e){return Object(r["q"])(),Object(r["d"])(o,{class:"user-profile__tweet",key:e._id,username:e.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])])})),I=n("b85c"),_=Object(r["I"])("data-v-0efbc402");Object(r["t"])("data-v-0efbc402");var x={class:"tweet-item"},k={class:"user-profile__tweet"},T=Object(r["g"])("br",null,null,-1),C=Object(r["g"])("br",null,null,-1),R={class:"tweet-item__content"};Object(r["r"])();var q=_((function(e,t,n,a,s,c){var o=Object(r["x"])("router-link");return Object(r["q"])(),Object(r["d"])("div",x,[Object(r["g"])("div",k,[Object(r["g"])(o,{class:"tweet-item__user",to:{name:"UserProfile",params:{userId:n.userId}}},{default:_((function(){return[Object(r["f"])(" @"+Object(r["z"])(n.username),1)]})),_:1},8,["to"]),T,C,Object(r["g"])("div",R,Object(r["z"])(n.tweet),1)])])})),N={name:"TweetItem",props:{username:{type:String,required:!0},tweet:{type:String,required:!0},userId:{type:String,requires:!0}}};n("13e1");N.render=q,N.__scopeId="data-v-0efbc402";var S=N,F={name:"Home",components:{TweetItem:S},setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.User.user._id})),n=Object(r["u"])({following:[],tweets:[]});return Object(r["o"])((function(){O.getFollowing({_id:t.value}).then((function(e){var t,r=Object(I["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.following.unshift(a.Following)}}catch(u){r.e(u)}finally{r.f()}var s,c=Object(I["a"])(n.following);try{for(c.s();!(s=c.n()).done;){var o=s.value;console.log("temp",o),O.getTweets({UserIdT:o}).then((function(e){var t,r=Object(I["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.tweets.unshift({_id:a._id,UserId:a.UserId,Body:a.Body,UserName:a.UserName})}}catch(u){r.e(u)}finally{r.f()}}))}}catch(u){c.e(u)}finally{c.f()}}))})),{state:n}}};n("3ca8");F.render=U,F.__scopeId="data-v-6d76ef5c";var P=F,L=n("f65d"),M=n.n(L),E=Object(r["I"])("data-v-26fb9e5e");Object(r["t"])("data-v-26fb9e5e");var D={class:"user-profile"},B={class:"user-profile__userpanel"},z=Object(r["g"])("img",{id:"image",src:M.a},null,-1),A={class:"user-profile__username"},G={key:0,class:"user-profile__admin"},H={class:"user-profile__follower-count"},V={class:"user-profile__tweet-wrapper"},J={key:1};Object(r["r"])();var W=E((function(e,t,n,a,s,c){var o=Object(r["x"])("CreatTweetPanel"),u=Object(r["x"])("TweetItem");return Object(r["q"])(),Object(r["d"])("div",D,[Object(r["g"])("div",B,[z,Object(r["g"])("h1",A,[Object(r["f"])("@"+Object(r["z"])(a.user.UserLoaded.UserName)+" ",1),a.user.UserLoaded.IsAdmin?(Object(r["q"])(),Object(r["d"])("div",G," Admin ")):Object(r["e"])("",!0)]),Object(r["g"])("div",H,[Object(r["g"])("p",null,"Following: "+Object(r["z"])(a.state.following.length)+" Followers: "+Object(r["z"])(a.state.followers.length),1),a.userProfile.test||a.state.followState?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(){return a.followF&&a.followF.apply(a,arguments)})},"Follow")),!a.userProfile.test&&a.state.followState?(Object(r["q"])(),Object(r["d"])("button",{key:1,onClick:t[2]||(t[2]=function(){return a.unfollowF&&a.unfollowF.apply(a,arguments)})},"Unfollow")):Object(r["e"])("",!0)]),a.userProfile.test?(Object(r["q"])(),Object(r["d"])("input",{key:0,class:"change_cover",type:"file",onChange:t[3]||(t[3]=function(){return a.updateCover&&a.updateCover.apply(a,arguments)})},null,32)):Object(r["e"])("",!0),a.userProfile.test?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("button",{key:1,onClick:t[4]||(t[4]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send Message"))]),Object(r["g"])("div",V,[a.userProfile.test?(Object(r["q"])(),Object(r["d"])(o,{key:0,onAddTweet:a.addTweet},null,8,["onAddTweet"])):Object(r["e"])("",!0),0===a.state.tweets.length?(Object(r["q"])(),Object(r["d"])("strong",J,"no tweets posted yet")):Object(r["e"])("",!0),(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.state.tweets,(function(e){return Object(r["q"])(),Object(r["d"])(u,{class:"user-profile__tweet",key:e._id,username:a.user.UserLoaded.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])])})),K=(n("c975"),n("a434"),n("d3b7"),n("25f0"),n("b0c0"),Object(r["I"])("data-v-15631e92"));Object(r["t"])("data-v-15631e92");var Q={for:"newtweet"},X=Object(r["g"])("strong",null,"New Tweet",-1),Y={class:"user-profile__createtweet-type"},Z=Object(r["g"])("label",{for:"newTweetType"},[Object(r["g"])("strong",null,"Type :")],-1),$=Object(r["g"])("button",null," tweet-t-t ",-1);Object(r["r"])();var ee=K((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("form",{action:"",class:["user-profile__create-tweet",{exceeded:a.newTweetCharacterCount>180}],onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return a.creatNewTweet&&a.creatNewTweet.apply(a,arguments)}),["prevent"]))},[Object(r["g"])("label",Q,[X,Object(r["f"])(" "+Object(r["z"])(a.newTweetCharacterCount)+"/180",1)]),Object(r["G"])(Object(r["g"])("textarea",{id:"newtweet",rows:"4","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.newTweetContent=e})},null,512),[[r["C"],a.state.newTweetContent]]),Object(r["g"])("div",Y,[Z,Object(r["G"])(Object(r["g"])("select",{id:"newTweetType","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.state.selectedTweetType=e})},[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.state.TweetTypes,(function(e,t){return Object(r["q"])(),Object(r["d"])("option",{value:e.value,key:t},Object(r["z"])(e.name),9,["value"])})),128))],512),[[r["B"],a.state.selectedTweetType]])]),$],34)})),te={name:"CreateTweetPanel",setup:function(e,t){var n=Object(r["u"])({newTweetContent:"",selectedTweetType:"instant",TweetTypes:[{value:"draft",name:"Draft"},{value:"instant",name:"Instant"}]}),a=Object(r["b"])((function(){return n.newTweetContent.length}));function s(){n.newTweetContent&&"draft"!=n.selectedTweetType&&(t.emit("addTweet",n.newTweetContent),n.newTweetContent="")}return{state:n,newTweetCharacterCount:a,creatNewTweet:s}}};n("f964");te.render=ee,te.__scopeId="data-v-15631e92";var ne=te,re=Object(r["I"])("data-v-c3a1dfd8");Object(r["t"])("data-v-c3a1dfd8");var ae={class:"chat-box"},se={class:"chat-box__name-bar"},ce={class:"chat-box__body"},oe={key:0,class:"received"},ue={key:1,class:"sent"},ie={class:"chat-box__send-message"},le=Object(r["g"])("input",{id:"messageToSend",type:"text",class:"chat-box__message",placeholder:"write a message"},null,-1);Object(r["r"])();var de=re((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("div",ae,[Object(r["g"])("div",se,[Object(r["g"])("p",null,Object(r["z"])(n.chatName),1)]),Object(r["g"])("ul",ce,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.discussion.messages,(function(e,t){return Object(r["q"])(),Object(r["d"])("li",{key:t},["received"===e.Mtype?(Object(r["q"])(),Object(r["d"])("p",oe,Object(r["z"])(e.message),1)):Object(r["e"])("",!0),"sent"===e.Mtype?(Object(r["q"])(),Object(r["d"])("p",ue,Object(r["z"])(e.message),1)):Object(r["e"])("",!0)])})),128))]),Object(r["g"])("div",ie,[le,Object(r["g"])("button",{class:"chat-box__send",onClick:t[1]||(t[1]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send")])])})),be=n("8e27"),fe=n.n(be),pe={props:{chatName:{type:String,required:!0},ProfileName:{type:String,required:!0},chatId:{type:String,required:!0},senderId:{type:String,required:!0},receiverId:{type:String,required:!0}},setup:function(e){var t=Object(r["u"])({socket:"",messages:[]});function n(){var n=document.getElementById("messageToSend").value;O.sendMessage({roomId:e.chatId,body:n,userName:e.ProfileName}).then((function(n){t.socket.emit("message",{text:n.body,receiverId:e.receiverId,date:n.date,senderId:e.senderId,userName:e.ProfileName}),t.messages.push({message:n.body,time:n.date,userName:e.ProfileName,Mtype:"sent"}),document.getElementById("messageToSend").value=""}))}return Object(r["E"])(Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:""!=t.socket?(console.log("starting to listen !!!!"),t.socket.on("message",function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("message recieved in front end",r),a="",a=r.senderId===e.senderId?"sent":"received",t.messages.push({message:r.text,time:r.date,userName:r.userName,Mtype:a});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())):console.log("waiting for socket io to init");case 1:case"end":return n.stop()}}),n)})))),Object(r["o"])(Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fe()("ws://localhost:5000",{query:"userId="+e.senderId});case 2:t.socket=n.sent,console.log("what is this ?",t.socket),O.getMessages({_id:e.chatId}).then((function(n){var r,a=Object(I["a"])(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,c="";c=s.userId===e.senderId?"sent":"received",t.messages.push({message:s.body,time:s.date,userName:s.userName,Mtype:c})}}catch(o){a.e(o)}finally{a.f()}}));case 5:case"end":return n.stop()}}),n)})))),{discussion:t,sendMessage:n}}};n("26f4");pe.render=de,pe.__scopeId="data-v-c3a1dfd8";var me=pe,ge={name:"UserProfile",components:{TweetItem:S,CreatTweetPanel:ne},setup:function(e,t){var n=Object(r["u"])({test:null}),a=Object(o["b"])(),s=Object(r["u"])({UserLoaded:{UserName:""}}),c=Object(r["b"])((function(){return a.state.User.user._id})),u=Object(r["b"])((function(){return a.state.User.user.UserName})),i=Object(d["c"])(),b=Object(r["b"])((function(){return i.params.userId})),f=Object(r["u"])({room:"",followers:[],following:[],followState:!1,tweets:[]});function p(){O.follow({userId:b.value}).then((function(e){f.followState=!0,f.followers.unshift(e.Follower)}))}function m(){O.unFollow({_id:b.value}).then((function(){f.followState=!1;var e=f.followers.indexOf(c.value);e>-1&&f.followers.splice(e,1)}))}function g(e){var t,n=new FileReader;n.onload=function(n){t=n.target.result,O.updateCover({imageFile:t,imageType:e.target.files[0].type}).then((function(){}))},n.readAsDataURL(e.target.files[0])}function j(e){O.Tweet({UserIdT:s.UserLoaded._id,Body:e,UserName:s.UserLoaded.UserName}).then((function(e){f.tweets.unshift({_id:e._id,UserId:e.UserId,Body:e.Body})}))}function w(){return v.apply(this,arguments)}function v(){return v=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.getChatRoom({_id:b.value}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==n){e.next=5;break}return e.next=3,O.makeChatRoom({_id:b.value}).then((function(e){f.room=e._id}));case 3:e.next=6;break;case 5:f.room=n._id;case 6:a=Object(r["c"])(me,{chatName:s.UserLoaded.UserName,ProfileName:u,chatId:f.room,senderId:c.value,receiverId:b.value}),t.emit("openChat",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(r["o"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.value!==b.value){e.next=5;break}n.test=!0,s.UserLoaded=a.state.User.user,e.next=9;break;case 5:return n.test=!1,e.next=8,O.getUserId({_id:b.value});case 8:s.UserLoaded=e.sent;case 9:t=b.value,s.UserLoaded.img&&(document.getElementById("image").src=s.UserLoaded.img.toString()),O.getFollower({_id:t}).then((function(e){var t,n=Object(I["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.Follower===c.value&&(f.followState=!0),f.followers.unshift(r.Follower)}}catch(a){n.e(a)}finally{n.f()}})),O.getFollowing({_id:t}).then((function(e){var t,n=Object(I["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;f.following.unshift(r.Following)}}catch(a){n.e(a)}finally{n.f()}})),O.getTweets({UserIdT:t}).then((function(e){var t,n=Object(I["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;f.tweets.unshift({_id:r._id,UserId:r.UserId,Body:r.Body})}}catch(a){n.e(a)}finally{n.f()}}));case 14:case"end":return e.stop()}}),e)})))),{user:s,userProfile:n,state:f,addTweet:j,userId:b,followF:p,unfollowF:m,sendMessage:w,updateCover:g}}};n("3045");ge.render=W,ge.__scopeId="data-v-26fb9e5e";var Oe=ge,je=Object(r["I"])("data-v-bc78a028");Object(r["t"])("data-v-bc78a028");var we=Object(r["g"])("h1",null,[Object(r["g"])("strong",null,"Welcome to Tweet-t-t")],-1);Object(r["r"])();var ve=je((function(e,t,n,a,s,c){var o=Object(r["x"])("LogIn"),u=Object(r["x"])("SignUp");return Object(r["q"])(),Object(r["d"])(r["a"],null,[we,Object(r["g"])(o),Object(r["g"])(u)],64)})),he=Object(r["I"])("data-v-4fa0e3eb");Object(r["t"])("data-v-4fa0e3eb");var ye=Object(r["g"])("h1",null,[Object(r["g"])("strong",null,"Log In")],-1),Ue=Object(r["g"])("label",{for:"emailLogIn"},"E-mail",-1),Ie=Object(r["g"])("label",{for:"passwordLogIn"},"Password",-1),_e=Object(r["g"])("button",null," Log In ",-1);Object(r["r"])();var xe=he((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])(r["a"],null,[ye,Object(r["g"])("form",{action:"",class:"logIn",onSubmit:t[3]||(t[3]=Object(r["H"])((function(){return a.logInUser&&a.logInUser.apply(a,arguments)}),["prevent"]))},[Ue,Object(r["G"])(Object(r["g"])("input",{id:"emailLogIn",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.login.Email=e})},null,512),[[r["C"],a.login.Email]]),Ie,Object(r["G"])(Object(r["g"])("input",{id:"passwordLogIn",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.login.HashCode=e})},null,512),[[r["C"],a.login.HashCode]]),_e],32)],64)})),ke={name:"LogIn",setup:function(){var e=Object(r["u"])({Email:"",HashCode:""});function t(){""!=e.Email&&""!=e.HashCode&&(console.log("calling log in"),O.logIn(e).then((function(e){console.log(e),Ye.push("/")})))}return{login:e,logInUser:t}}};n("eaf9");ke.render=xe,ke.__scopeId="data-v-4fa0e3eb";var Te=ke,Ce=Object(r["I"])("data-v-b1b1a3ba");Object(r["t"])("data-v-b1b1a3ba");var Re=Object(r["g"])("h1",null,[Object(r["g"])("strong",null,"Sign Up")],-1),qe=Object(r["g"])("label",{for:"email"},"E-mail",-1),Ne=Object(r["g"])("label",{for:"password"},"Password",-1),Se=Object(r["g"])("label",{for:"confirmpassword"},"Confirm password",-1),Fe=Object(r["g"])("label",{for:"username"},"Username",-1),Pe=Object(r["g"])("label",{for:"firsname"},"Firsname",-1),Le=Object(r["g"])("label",{for:"lastname"},"Lastname",-1),Me=Object(r["g"])("button",null," Sign Up ",-1);Object(r["r"])();var Ee=Ce((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])(r["a"],null,[Re,Object(r["g"])("form",{action:"",class:"signUp",onSubmit:t[7]||(t[7]=Object(r["H"])((function(){return a.signUpUser&&a.signUpUser.apply(a,arguments)}),["prevent"]))},[qe,Object(r["G"])(Object(r["g"])("input",{id:"email",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userData.Email=e})},null,512),[[r["C"],a.userData.Email]]),Ne,Object(r["G"])(Object(r["g"])("input",{id:"password",type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.userData.password=e})},null,512),[[r["C"],a.userData.password]]),Se,Object(r["G"])(Object(r["g"])("input",{id:"confirmpassword",type:"text","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.userData.confpassword=e})},null,512),[[r["C"],a.userData.confpassword]]),Fe,Object(r["G"])(Object(r["g"])("input",{id:"username",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.userData.UserName=e})},null,512),[[r["C"],a.userData.UserName]]),Pe,Object(r["G"])(Object(r["g"])("input",{id:"firsname",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.userData.FirstName=e})},null,512),[[r["C"],a.userData.FirstName]]),Le,Object(r["G"])(Object(r["g"])("input",{id:"lastname",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.userData.LastName=e})},null,512),[[r["C"],a.userData.LastName]]),Me],32)],64)})),De={name:"SignUp",setup:function(){var e=Object(r["u"])({Email:"",Password:"",Confpassword:"",UserName:"",FirstName:"",LastName:""});function t(){e.password===e.confpassword&&""!=e.Email&&""!=e.password&&""!=e.UserName&&""!=e.FirstName&&""!=e.LastName&&(console.log("passed check"),O.signUp(e).then((function(e){console.log(e),Ye.push("/")})))}return{userData:e,signUpUser:t}}};n("8e4c");De.render=Ee,De.__scopeId="data-v-b1b1a3ba";var Be=De,ze={name:"LogInSignUp",components:{LogIn:Te,SignUp:Be}};ze.render=ve,ze.__scopeId="data-v-bc78a028";var Ae=ze,Ge=Object(r["I"])("data-v-2754a2ff");Object(r["t"])("data-v-2754a2ff");var He={class:"admin"},Ve=Object(r["g"])("h1",null,"Admin",-1);Object(r["r"])();var Je=Ge((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("div",He,[Ve])})),We={name:"Admin"};n("bb34");We.render=Je,We.__scopeId="data-v-2754a2ff";var Ke=We,Qe=[{path:"/",name:"Home",component:P,meta:{requiresUser:!0}},{path:"/user/:userId",name:"UserProfile",component:Oe,meta:{requiresUser:!0}},{path:"/loginOrsignup",name:"signup",component:Ae,meta:{requiresUser:!1}},{path:"/admin",name:"Admin",component:Ke,meta:{requiresUser:!0,requiresAdmin:!0}}],Xe=Object(d["a"])({history:Object(d["b"])(),routes:Qe});Xe.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.auth();case 2:if(a=e.sent,s=t.matched.some((function(e){return e.meta.requiresUser})),null!==f.state.User.user||s){e.next=8;break}r(),e.next=21;break;case 8:if(a.loggedIn){e.next=12;break}r({name:"signup"}),e.next=21;break;case 12:if(null!==f.state.User.user){e.next=20;break}return e.next=15,O.getUser();case 15:c=e.sent,f.dispatch("User/setUser",c),r(),e.next=21;break;case 20:r();case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var Ye=Xe;Object(r["c"])(i).use(f).use(Ye).mount("#app")},"5fe1":function(e,t,n){},"8e4c":function(e,t,n){"use strict";n("dd3a")},"9d18":function(e,t,n){"use strict";n("dcc7")},"9eba":function(e,t,n){},ae1e:function(e,t,n){},ae5b:function(e,t,n){},bb34:function(e,t,n){"use strict";n("9eba")},dcc7:function(e,t,n){},dd3a:function(e,t,n){},eaf9:function(e,t,n){"use strict";n("ae5b")},f65d:function(e,t,n){e.exports=n.p+"img/color-2174045_640.1376d23c.png"},f964:function(e,t,n){"use strict";n("ae1e")},f9e0:function(e,t,n){}});
//# sourceMappingURL=app.cdecd348.js.map