(function(e){function t(t){for(var r,c,o=t[0],u=t[1],i=t[2],d=0,b=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(b.length)b.shift()();return s.push.apply(s,i||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1208:function(e,t,n){},"13e1":function(e,t,n){"use strict";n("f9e0")},1721:function(e,t,n){"use strict";n("75ba")},"4b1d":function(e,t,n){"use strict";n("6083")},"4bc0":function(e,t,n){"use strict";n("dd54")},"536b":function(e,t,n){"use strict";n("aeec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a={id:"app"},s=Object(r["g"])("div",{class:"navigation__logo"}," Tweet-t-t ",-1);function c(e,t,n,c,o,u){var i=Object(r["x"])("router-link"),l=Object(r["x"])("router-view");return Object(r["q"])(),Object(r["d"])("div",a,[Object(r["g"])("nav",null,[Object(r["g"])(i,{to:"/"},{default:Object(r["E"])((function(){return[s]})),_:1}),c.user?(Object(r["q"])(),Object(r["d"])(i,{key:0,class:"navigation__user",to:{name:"UserProfile",params:{userId:c.user._id}}},{default:Object(r["E"])((function(){return[Object(r["f"])(Object(r["z"])(c.user.UserName),1)]})),_:1},8,["to"])):Object(r["e"])("",!0)]),Object(r["g"])(l,{key:e.$route.fullPath,onOpenChat:c.openChat},null,8,["onOpenChat"])])}var o=n("5502"),u={name:"App",setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.User.user}));function n(e){var t=document.getElementById("app"),n=document.createElement("div");t.appendChild(n),e.mount(n)}return{user:t,openChat:n}}};n("4b1d");u.render=c;var i=u,l=(n("45fc"),n("96cf"),n("1da1")),d=n("6c02"),b={namespaced:!0,state:{user:null},mutations:{SET_USER:function(e,t){e.user=t}},actions:{setUser:function(e,t){var n=e.commit;n("SET_USER",t)}}},f=Object(o["a"])({state:{},mutations:{},actions:{},modules:{User:b}}),p=n("bc3a"),g=n.n(p);g.a.defaults.withCredentials=!0;var m="https://vuejswebsite.herokuapp.com",O={auth:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m+"/users/auth");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},getUser:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m+"/users/getUser");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},getUserId:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/users/getUserId",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},logIn:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/users/login",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},signUp:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/users/signup",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},Tweet:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/tweet/tweet",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getTweets:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/tweet/getTweets",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/follow/follow",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getFollowing:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/follow/getFollowings",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getFollower:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/follow/getFollowers",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unFollow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.delete(m+"/follow/unfollow",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},makeChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/chat/Chat",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/chat/getChat",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getMessages:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/chat/getMessages",{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},sendMessage:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/chat/sendMessage",null,{params:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},updateCover:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.put(m+"/users/update",{data:e});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()}},j=Object(r["H"])("data-v-1ef4f340");Object(r["t"])("data-v-1ef4f340");var w={class:"home"},v=Object(r["g"])("h1",null,"Home",-1),h={key:0,class:"loader"},y={key:1,class:"users-list"},_={key:0};Object(r["r"])();var U=j((function(e,t,n,a,s,c){var o=Object(r["x"])("TweetItem");return Object(r["q"])(),Object(r["d"])("div",w,[v,a.state.loaded?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("div",h)),a.state.loaded?(Object(r["q"])(),Object(r["d"])("div",y,[0===a.state.tweets.length?(Object(r["q"])(),Object(r["d"])("strong",_,"follow someone to see their tweet-t-ts")):Object(r["e"])("",!0),(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.state.tweets,(function(e){return Object(r["q"])(),Object(r["d"])(o,{class:"user-profile__tweet",key:e._id,username:e.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])):Object(r["e"])("",!0)])})),x=n("b85c"),I=Object(r["H"])("data-v-0efbc402");Object(r["t"])("data-v-0efbc402");var k={class:"tweet-item"},R={class:"user-profile__tweet"},q=Object(r["g"])("br",null,null,-1),N=Object(r["g"])("br",null,null,-1),C={class:"tweet-item__content"};Object(r["r"])();var T=I((function(e,t,n,a,s,c){var o=Object(r["x"])("router-link");return Object(r["q"])(),Object(r["d"])("div",k,[Object(r["g"])("div",R,[Object(r["g"])(o,{class:"tweet-item__user",to:{name:"UserProfile",params:{userId:n.userId}}},{default:I((function(){return[Object(r["f"])(" @"+Object(r["z"])(n.username),1)]})),_:1},8,["to"]),q,N,Object(r["g"])("div",C,Object(r["z"])(n.tweet),1)])])})),F={name:"TweetItem",props:{username:{type:String,required:!0},tweet:{type:String,required:!0},userId:{type:String,requires:!0}}};n("13e1");F.render=T,F.__scopeId="data-v-0efbc402";var S=F,P={name:"Home",components:{TweetItem:S},setup:function(){var e=Object(o["b"])(),t=Object(r["b"])((function(){return e.state.User.user._id})),n=Object(r["u"])({following:[],loaded:!1,tweets:[]});return Object(r["o"])((function(){O.getFollowing({_id:t.value}).then((function(e){var t,r=Object(x["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.following.unshift(a.Following)}}catch(u){r.e(u)}finally{r.f()}var s,c=Object(x["a"])(n.following);try{for(c.s();!(s=c.n()).done;){var o=s.value;console.log("temp",o),O.getTweets({UserIdT:o}).then((function(e){n.loaded=!0;var t,r=Object(x["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.tweets.unshift({_id:a._id,UserId:a.UserId,Body:a.Body,UserName:a.UserName})}}catch(u){r.e(u)}finally{r.f()}}))}}catch(u){c.e(u)}finally{c.f()}}))})),{state:n}}};n("88b7");P.render=U,P.__scopeId="data-v-1ef4f340";var L=P,B=n("f65d"),E=n.n(B),M=Object(r["H"])("data-v-175f12fa");Object(r["t"])("data-v-175f12fa");var D={class:"user-profile"},H={class:"user-profile__userpanel"},z={class:"image-cont"},V=Object(r["g"])("img",{id:"image",src:E.a},null,-1),A={key:0,class:"inner"},G=Object(r["g"])("label",null,[Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17"},[Object(r["g"])("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})])],-1),J=Object(r["g"])("img",{id:"imageB",src:E.a},null,-1),$={key:0,class:"loader"},K={key:1,class:"user-profile_info"},Q={class:"interactions"},W={class:"user-profile__FLName"},X={class:"user-profile__username"},Y={class:"user-profile__follower-count"},Z={key:2,class:"loader"},ee={key:3,class:"user-profile__tweet-wrapper"},te={key:1};Object(r["r"])();var ne=M((function(e,t,n,a,s,c){var o=Object(r["x"])("CreatTweetPanel"),u=Object(r["x"])("TweetItem");return Object(r["q"])(),Object(r["d"])("div",D,[Object(r["g"])("div",H,[Object(r["g"])("div",z,[V,a.userProfile.test?(Object(r["q"])(),Object(r["d"])("div",A,[Object(r["g"])("input",{class:"inputfile",type:"file",accept:"image/*",onChange:t[1]||(t[1]=function(){return a.updateCover&&a.updateCover.apply(a,arguments)})},null,32),G])):Object(r["e"])("",!0)]),J]),a.state.loadedP?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("div",$)),a.state.loadedP?(Object(r["q"])(),Object(r["d"])("div",K,[Object(r["g"])("div",Q,[Object(r["g"])("h1",W,Object(r["z"])(a.user.UserLoaded.FirstName)+" "+Object(r["z"])(a.user.UserLoaded.LastName),1),a.userProfile.test||a.state.followState?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("button",{key:0,class:"button",onClick:t[2]||(t[2]=function(){return a.followF&&a.followF.apply(a,arguments)})},"Follow")),!a.userProfile.test&&a.state.followState?(Object(r["q"])(),Object(r["d"])("button",{key:1,class:"button",onClick:t[3]||(t[3]=function(){return a.unfollowF&&a.unfollowF.apply(a,arguments)})},"Unfollow")):Object(r["e"])("",!0),a.userProfile.test?Object(r["e"])("",!0):(Object(r["q"])(),Object(r["d"])("button",{key:2,class:"button",onClick:t[4]||(t[4]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send Message"))]),Object(r["g"])("p",X,Object(r["z"])(a.user.UserLoaded.UserName),1),Object(r["g"])("div",Y,[Object(r["g"])("p",null,"Following: "+Object(r["z"])(a.state.following.length)+" Followers: "+Object(r["z"])(a.state.followers.length),1)])])):Object(r["e"])("",!0),!a.state.loaded&a.state.loadedP?(Object(r["q"])(),Object(r["d"])("div",Z)):Object(r["e"])("",!0),a.state.loaded?(Object(r["q"])(),Object(r["d"])("div",ee,[a.userProfile.test?(Object(r["q"])(),Object(r["d"])(o,{key:0,onAddTweet:a.addTweet},null,8,["onAddTweet"])):Object(r["e"])("",!0),0===a.state.tweets.length?(Object(r["q"])(),Object(r["d"])("strong",te,"no tweets posted yet")):Object(r["e"])("",!0),(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.state.tweets,(function(e){return Object(r["q"])(),Object(r["d"])(u,{class:"user-profile__tweet",key:e._id,username:a.user.UserLoaded.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])):Object(r["e"])("",!0)])})),re=(n("c975"),n("a434"),n("d3b7"),n("25f0"),Object(r["H"])("data-v-18734daf"));Object(r["t"])("data-v-18734daf");var ae={for:"newtweet"},se=Object(r["g"])("strong",null,"New Tweet",-1),ce=Object(r["g"])("div",{class:"user-profile__createtweet-type"},null,-1),oe=Object(r["g"])("button",null," tweet-t-t ",-1);Object(r["r"])();var ue=re((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("form",{action:"",class:["user-profile__create-tweet",{exceeded:a.newTweetCharacterCount>180}],onSubmit:t[2]||(t[2]=Object(r["G"])((function(){return a.creatNewTweet&&a.creatNewTweet.apply(a,arguments)}),["prevent"]))},[Object(r["g"])("label",ae,[se,Object(r["f"])(" "+Object(r["z"])(a.newTweetCharacterCount)+"/180",1)]),Object(r["F"])(Object(r["g"])("textarea",{id:"newtweet",extarea:"",style:{resize:"none"},rows:"4","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.newTweetContent=e})},null,512),[[r["B"],a.state.newTweetContent]]),ce,oe],34)})),ie={name:"CreateTweetPanel",setup:function(e,t){var n=Object(r["u"])({newTweetContent:""}),a=Object(r["b"])((function(){return n.newTweetContent.length}));function s(){n.newTweetContent&&(t.emit("addTweet",n.newTweetContent),n.newTweetContent="")}return{state:n,newTweetCharacterCount:a,creatNewTweet:s}}};n("536b");ie.render=ue,ie.__scopeId="data-v-18734daf";var le=ie,de=Object(r["H"])("data-v-f926f394");Object(r["t"])("data-v-f926f394");var be={class:"chat-box"},fe={class:"chat-box__name-bar"},pe={class:"chat-box__body"},ge={key:0,class:"received"},me={key:1,class:"sent"},Oe={class:"chat-box__send-message"},je=Object(r["g"])("input",{id:"messageToSend",type:"text",class:"chat-box__message",placeholder:"write a message"},null,-1);Object(r["r"])();var we=de((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("div",be,[Object(r["g"])("div",fe,[Object(r["g"])("p",null,Object(r["z"])(n.chatName),1)]),Object(r["g"])("ul",pe,[(Object(r["q"])(!0),Object(r["d"])(r["a"],null,Object(r["w"])(a.discussion.messages,(function(e,t){return Object(r["q"])(),Object(r["d"])("li",{key:t},["received"===e.Mtype?(Object(r["q"])(),Object(r["d"])("p",ge,Object(r["z"])(e.message),1)):Object(r["e"])("",!0),"sent"===e.Mtype?(Object(r["q"])(),Object(r["d"])("p",me,Object(r["z"])(e.message),1)):Object(r["e"])("",!0)])})),128))]),Object(r["g"])("div",Oe,[je,Object(r["g"])("button",{class:"chat-box__send",onClick:t[1]||(t[1]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send")])])})),ve=n("8e27"),he=n.n(ve),ye={props:{chatName:{type:String,required:!0},ProfileName:{type:String,required:!0},chatId:{type:String,required:!0},senderId:{type:String,required:!0},receiverId:{type:String,required:!0}},setup:function(e){var t=Object(r["u"])({socket:"",messages:[]});function n(){var n=document.getElementById("messageToSend").value;O.sendMessage({roomId:e.chatId,body:n,userName:e.ProfileName}).then((function(n){t.socket.emit("message",{text:n.body,receiverId:e.receiverId,date:n.date,senderId:e.senderId,userName:e.ProfileName}),t.messages.push({message:n.body,time:n.date,userName:e.ProfileName,Mtype:"sent"}),document.getElementById("messageToSend").value=""}))}return Object(r["D"])(Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:""!=t.socket?(console.log("starting to listen !!!!"),t.socket.on("message",function(){var n=Object(l["a"])(regeneratorRuntime.mark((function n(r){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("message recieved in front end",r),a="",a=r.senderId===e.senderId?"sent":"received",t.messages.push({message:r.text,time:r.date,userName:r.userName,Mtype:a});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())):console.log("waiting for socket io to init");case 1:case"end":return n.stop()}}),n)})))),Object(r["o"])(Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,he()("ws://localhost:5000",{query:"userId="+e.senderId});case 2:t.socket=n.sent,console.log("what is this ?",t.socket),O.getMessages({_id:e.chatId}).then((function(n){var r,a=Object(x["a"])(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,c="";c=s.userId===e.senderId?"sent":"received",t.messages.push({message:s.body,time:s.date,userName:s.userName,Mtype:c})}}catch(o){a.e(o)}finally{a.f()}}));case 5:case"end":return n.stop()}}),n)})))),{discussion:t,sendMessage:n}}};n("6c54");ye.render=we,ye.__scopeId="data-v-f926f394";var _e=ye,Ue={name:"UserProfile",components:{TweetItem:S,CreatTweetPanel:le},setup:function(e,t){var n=Object(r["u"])({test:null}),a=Object(o["b"])(),s=Object(r["u"])({UserLoaded:{UserName:"",FirstName:"",LastName:""}}),c=Object(r["b"])((function(){return a.state.User.user._id})),u=Object(r["b"])((function(){return a.state.User.user.UserName})),i=Object(d["c"])(),b=Object(r["b"])((function(){return i.params.userId})),f=Object(r["u"])({room:"",followers:[],following:[],followState:!1,loaded:!1,loadedP:!1,tweets:[]});function p(){O.follow({userId:b.value}).then((function(e){f.followState=!0,f.followers.unshift(e.Follower)}))}function g(){O.unFollow({_id:b.value}).then((function(){f.followState=!1;var e=f.followers.indexOf(c.value);e>-1&&f.followers.splice(e,1)}))}function m(e){var t,n=new FileReader;n.onload=function(n){t=n.target.result,O.updateCover({imageFile:t,imageType:e.target.files[0].type}).then((function(){}))},n.readAsDataURL(e.target.files[0])}function j(e){O.Tweet({UserIdT:s.UserLoaded._id,Body:e,UserName:s.UserLoaded.UserName}).then((function(e){f.tweets.unshift({_id:e._id,UserId:e.UserId,Body:e.Body})}))}function w(){return v.apply(this,arguments)}function v(){return v=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.getChatRoom({_id:b.value}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==n){e.next=5;break}return e.next=3,O.makeChatRoom({_id:b.value}).then((function(e){f.room=e._id}));case 3:e.next=6;break;case 5:f.room=n._id;case 6:a=Object(r["c"])(_e,{chatName:s.UserLoaded.UserName,ProfileName:u,chatId:f.room,senderId:c.value,receiverId:b.value}),t.emit("openChat",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(r["o"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.value!==b.value){e.next=6;break}n.test=!0,s.UserLoaded=a.state.User.user,f.loadedP=!0,e.next=11;break;case 6:return n.test=!1,e.next=9,O.getUserId({_id:b.value});case 9:s.UserLoaded=e.sent,f.loadedP=!0;case 11:t=b.value,s.UserLoaded.img&&(document.getElementById("image").src=s.UserLoaded.img.toString(),document.getElementById("imageB").src=s.UserLoaded.img.toString()),O.getFollower({_id:t}).then((function(e){var t,n=Object(x["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.Follower===c.value&&(f.followState=!0),f.followers.unshift(r.Follower)}}catch(a){n.e(a)}finally{n.f()}})),O.getFollowing({_id:t}).then((function(e){var t,n=Object(x["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;f.following.unshift(r.Following)}}catch(a){n.e(a)}finally{n.f()}})),O.getTweets({UserIdT:t}).then((function(e){var t,n=Object(x["a"])(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;f.loaded=!0,f.tweets.unshift({_id:r._id,UserId:r.UserId,Body:r.Body})}}catch(a){n.e(a)}finally{n.f()}}));case 16:case"end":return e.stop()}}),e)})))),{user:s,userProfile:n,state:f,userId:b,addTweet:j,followF:p,unfollowF:g,sendMessage:w,updateCover:m}}};n("70cb");Ue.render=ne,Ue.__scopeId="data-v-175f12fa";var xe=Ue,Ie=Object(r["H"])("data-v-b9cbcb5a");Object(r["t"])("data-v-b9cbcb5a");var ke={class:"body"},Re={class:"log_in"},qe={class:"sign_up"};Object(r["r"])();var Ne=Ie((function(e,t,n,a,s,c){var o=Object(r["x"])("LogIn"),u=Object(r["x"])("SignUp");return Object(r["q"])(),Object(r["d"])("div",ke,[Object(r["g"])("div",Re,[Object(r["g"])(o)]),Object(r["g"])("div",qe,[Object(r["g"])(u)])])})),Ce=Object(r["H"])("data-v-3a9b15d0");Object(r["t"])("data-v-3a9b15d0");var Te={key:0,class:"loader_parent"},Fe=Object(r["g"])("div",{class:"loader"},null,-1),Se={class:"card"},Pe=Object(r["g"])("h2",{class:"title"},"Log In",-1),Le=Object(r["g"])("label",{for:"emailLogIn"},"E-mail",-1),Be=Object(r["g"])("label",{for:"passwordLogIn"},"Password",-1),Ee=Object(r["g"])("button",{class:"button"}," Log In ",-1);Object(r["r"])();var Me=Ce((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])(r["a"],null,[a.login.logingIn?(Object(r["q"])(),Object(r["d"])("div",Te,[Fe])):Object(r["e"])("",!0),Object(r["g"])("div",Se,[Pe,Object(r["g"])("form",{class:"email_login",action:"",onSubmit:t[3]||(t[3]=Object(r["G"])((function(){return a.logInUser&&a.logInUser.apply(a,arguments)}),["prevent"]))},[Le,Object(r["F"])(Object(r["g"])("input",{id:"emailLogIn",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.login.Email=e})},null,512),[[r["B"],a.login.Email]]),Be,Object(r["F"])(Object(r["g"])("input",{id:"passwordLogIn",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.login.HashCode=e})},null,512),[[r["B"],a.login.HashCode]]),Ee],32)])],64)})),De={name:"LogIn",setup:function(){var e=Object(r["u"])({Email:"",HashCode:"",logingIn:!1});function t(){""!=e.Email&&""!=e.HashCode&&(console.log("calling log in"),e.logingIn=!0,O.logIn(e).then((function(e){console.log(e),ft.push("/")})))}return{login:e,logInUser:t}}};n("1721");De.render=Me,De.__scopeId="data-v-3a9b15d0";var He=De,ze=Object(r["H"])("data-v-cd970c18");Object(r["t"])("data-v-cd970c18");var Ve={key:0,class:"loader_parent"},Ae=Object(r["g"])("div",{class:"loader"},null,-1),Ge={class:"card"},Je=Object(r["g"])("h2",{class:"title"},"Sign Up",-1),$e=Object(r["g"])("label",{for:"email"},"E-mail",-1),Ke=Object(r["g"])("label",{for:"password"},"Password",-1),Qe=Object(r["g"])("label",{for:"confirmpassword"},"Confirm password",-1),We=Object(r["g"])("label",{for:"username"},"Username",-1),Xe=Object(r["g"])("label",{for:"firsname"},"Firsname",-1),Ye=Object(r["g"])("label",{for:"lastname"},"Lastname",-1),Ze=Object(r["g"])("button",{class:"button"}," Sign Up ",-1);Object(r["r"])();var et=ze((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])(r["a"],null,[a.userData.signingup?(Object(r["q"])(),Object(r["d"])("div",Ve,[Ae])):Object(r["e"])("",!0),Object(r["g"])("div",Ge,[Je,Object(r["g"])("form",{class:"email_sign_up",action:"",onSubmit:t[7]||(t[7]=Object(r["G"])((function(){return a.signUpUser&&a.signUpUser.apply(a,arguments)}),["prevent"]))},[$e,Object(r["F"])(Object(r["g"])("input",{id:"email",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userData.Email=e})},null,512),[[r["B"],a.userData.Email]]),Ke,Object(r["F"])(Object(r["g"])("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.userData.password=e})},null,512),[[r["B"],a.userData.password]]),Qe,Object(r["F"])(Object(r["g"])("input",{id:"confirmpassword",type:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.userData.confpassword=e})},null,512),[[r["B"],a.userData.confpassword]]),We,Object(r["F"])(Object(r["g"])("input",{id:"username",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.userData.UserName=e})},null,512),[[r["B"],a.userData.UserName]]),Xe,Object(r["F"])(Object(r["g"])("input",{id:"firsname",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.userData.FirstName=e})},null,512),[[r["B"],a.userData.FirstName]]),Ye,Object(r["F"])(Object(r["g"])("input",{id:"lastname",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.userData.LastName=e})},null,512),[[r["B"],a.userData.LastName]]),Ze],32)])],64)})),tt={name:"SignUp",setup:function(){var e=Object(r["u"])({Email:"",Password:"",Confpassword:"",UserName:"",FirstName:"",LastName:"",signingup:!1});function t(){e.password===e.confpassword&&""!=e.Email&&""!=e.password&&""!=e.UserName&&""!=e.FirstName&&""!=e.LastName&&(e.signingup=!0,O.signUp(e).then((function(e){console.log(e),ft.push("/")})))}return{userData:e,signUpUser:t}}};n("5a11");tt.render=et,tt.__scopeId="data-v-cd970c18";var nt=tt,rt={name:"LogInSignUp",components:{LogIn:He,SignUp:nt}};n("4bc0");rt.render=Ne,rt.__scopeId="data-v-b9cbcb5a";var at=rt,st=Object(r["H"])("data-v-2754a2ff");Object(r["t"])("data-v-2754a2ff");var ct={class:"admin"},ot=Object(r["g"])("h1",null,"Admin",-1);Object(r["r"])();var ut=st((function(e,t,n,a,s,c){return Object(r["q"])(),Object(r["d"])("div",ct,[ot])})),it={name:"Admin"};n("bb34");it.render=ut,it.__scopeId="data-v-2754a2ff";var lt=it,dt=[{path:"/",name:"Home",component:L,meta:{requiresUser:!0}},{path:"/User/:userId",name:"UserProfile",component:xe,meta:{requiresUser:!0}},{path:"/loginOrsignup",name:"signup",component:at,meta:{requiresUser:!1}},{path:"/admin",name:"Admin",component:lt,meta:{requiresUser:!0,requiresAdmin:!0}}],bt=Object(d["a"])({history:Object(d["b"])(),routes:dt});bt.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.auth();case 2:if(a=e.sent,s=t.matched.some((function(e){return e.meta.requiresUser})),null!==f.state.User.user||s){e.next=8;break}r(),e.next=21;break;case 8:if(a.loggedIn){e.next=12;break}r({name:"signup"}),e.next=21;break;case 12:if(null!==f.state.User.user){e.next=20;break}return e.next=15,O.getUser();case 15:c=e.sent,f.dispatch("User/setUser",c),r(),e.next=21;break;case 20:r();case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var ft=bt;Object(r["c"])(i).use(f).use(ft).mount("#app")},"57f0":function(e,t,n){},"5a11":function(e,t,n){"use strict";n("57f0")},6083:function(e,t,n){},"6c54":function(e,t,n){"use strict";n("8dce")},"70cb":function(e,t,n){"use strict";n("1208")},"75ba":function(e,t,n){},"88b7":function(e,t,n){"use strict";n("ba27")},"8dce":function(e,t,n){},"9eba":function(e,t,n){},aeec:function(e,t,n){},ba27:function(e,t,n){},bb34:function(e,t,n){"use strict";n("9eba")},dd54:function(e,t,n){},f65d:function(e,t,n){e.exports=n.p+"img/color-2174045_640.1376d23c.png"},f9e0:function(e,t,n){}});
//# sourceMappingURL=app.75893882.js.map