(function(e){function t(t){for(var n,c,o=t[0],u=t[1],i=t[2],d=0,f=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,i||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var u=r[o];0!==a[u]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},s=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1051:function(e,t,r){},"13e1":function(e,t,r){"use strict";r("f9e0")},"14ee":function(e,t,r){"use strict";r("1051")},"192b":function(e,t,r){},"22ee":function(e,t,r){"use strict";r("192b")},2854:function(e,t,r){},"3ca8":function(e,t,r){"use strict";r("5fe1")},"4bc0":function(e,t,r){"use strict";r("dd54")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a={id:"app"},s=Object(n["g"])("div",{class:"navigation__logo"}," Tweet-t-t ",-1);function c(e,t,r,c,o,u){var i=Object(n["x"])("router-link"),l=Object(n["x"])("router-view");return Object(n["q"])(),Object(n["d"])("div",a,[Object(n["g"])("nav",null,[Object(n["g"])(i,{to:"/"},{default:Object(n["E"])((function(){return[s]})),_:1}),c.user?(Object(n["q"])(),Object(n["d"])(i,{key:0,class:"navigation__user",to:{name:"UserProfile",params:{userId:c.user._id}}},{default:Object(n["E"])((function(){return[Object(n["f"])(Object(n["z"])(c.user.UserName),1)]})),_:1},8,["to"])):Object(n["e"])("",!0)]),Object(n["g"])(l,{key:e.$route.fullPath,onOpenChat:c.openChat},null,8,["onOpenChat"])])}var o=r("5502"),u={name:"App",setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.state.User.user}));function r(e){var t=document.getElementById("app"),r=document.createElement("div");t.appendChild(r),e.mount(r)}return{user:t,openChat:r}}};r("14ee");u.render=c;var i=u,l=(r("45fc"),r("96cf"),r("1da1")),d=r("6c02"),f={namespaced:!0,state:{user:null},mutations:{SET_USER:function(e,t){e.user=t}},actions:{setUser:function(e,t){var r=e.commit;r("SET_USER",t)}}},b=Object(o["a"])({state:{},mutations:{},actions:{},modules:{User:f}}),p=r("bc3a"),g=r.n(p);g.a.defaults.withCredentials=!0;var m="https://vuejswebsite.herokuapp.com",O={auth:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m+"/users/auth");case 2:return t=e.sent,console.log(t.data.loggedIn),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))()},getUser:function(){return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m+"/users/getUser");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},getUserId:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("this is the sent data",e),t.next=3,g.a.get(m+"/users/getUserId",{params:e});case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},logIn:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,g.a.get(m+"/users/login",{params:e});case 3:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 6:case"end":return t.stop()}}),t)})))()},signUp:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/users/signup",null,{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},Tweet:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/tweet/tweet",null,{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},getTweets:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/tweet/getTweets",{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},follow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/follow/follow",null,{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},getFollowing:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/follow/getFollowings",{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},getFollower:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/follow/getFollowers",{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},unFollow:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.delete(m+"/follow/unfollow",{params:e});case 2:return r=t.sent,console.log(r.data),t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))()},makeChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/chat/Chat",null,{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},getChatRoom:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/chat/getChat",{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},getMessages:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.get(m+"/chat/getMessages",{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},sendMessage:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.post(m+"/chat/sendMessage",null,{params:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()},updateCover:function(e){return Object(l["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,g.a.put(m+"/users/update",{data:e});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})))()}},j=Object(n["H"])("data-v-6d76ef5c");Object(n["t"])("data-v-6d76ef5c");var w={class:"home"},v=Object(n["g"])("h1",null,"Home",-1),h={class:"users-list"},y={key:0};Object(n["r"])();var U=j((function(e,t,r,a,s,c){var o=Object(n["x"])("TweetItem");return Object(n["q"])(),Object(n["d"])("div",w,[v,Object(n["g"])("div",h,[0===a.state.tweets.length?(Object(n["q"])(),Object(n["d"])("strong",y,"follow someone to see their tweet-t-ts")):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.state.tweets,(function(e){return Object(n["q"])(),Object(n["d"])(o,{class:"user-profile__tweet",key:e._id,username:e.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])])})),_=r("b85c"),x=Object(n["H"])("data-v-0efbc402");Object(n["t"])("data-v-0efbc402");var I={class:"tweet-item"},k={class:"user-profile__tweet"},R=Object(n["g"])("br",null,null,-1),N=Object(n["g"])("br",null,null,-1),C={class:"tweet-item__content"};Object(n["r"])();var T=x((function(e,t,r,a,s,c){var o=Object(n["x"])("router-link");return Object(n["q"])(),Object(n["d"])("div",I,[Object(n["g"])("div",k,[Object(n["g"])(o,{class:"tweet-item__user",to:{name:"UserProfile",params:{userId:r.userId}}},{default:x((function(){return[Object(n["f"])(" @"+Object(n["z"])(r.username),1)]})),_:1},8,["to"]),R,N,Object(n["g"])("div",C,Object(n["z"])(r.tweet),1)])])})),F={name:"TweetItem",props:{username:{type:String,required:!0},tweet:{type:String,required:!0},userId:{type:String,requires:!0}}};r("13e1");F.render=T,F.__scopeId="data-v-0efbc402";var q=F,S={name:"Home",components:{TweetItem:q},setup:function(){var e=Object(o["b"])(),t=Object(n["b"])((function(){return e.state.User.user._id})),r=Object(n["u"])({following:[],tweets:[]});return Object(n["o"])((function(){O.getFollowing({_id:t.value}).then((function(e){var t,n=Object(_["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.following.unshift(a.Following)}}catch(u){n.e(u)}finally{n.f()}var s,c=Object(_["a"])(r.following);try{for(c.s();!(s=c.n()).done;){var o=s.value;console.log("temp",o),O.getTweets({UserIdT:o}).then((function(e){var t,n=Object(_["a"])(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.tweets.unshift({_id:a._id,UserId:a.UserId,Body:a.Body,UserName:a.UserName})}}catch(u){n.e(u)}finally{n.f()}}))}}catch(u){c.e(u)}finally{c.f()}}))})),{state:r}}};r("3ca8");S.render=U,S.__scopeId="data-v-6d76ef5c";var L=S,P=r("f65d"),B=r.n(P),E=Object(n["H"])("data-v-0a03eaf2");Object(n["t"])("data-v-0a03eaf2");var M={class:"user-profile"},H={class:"user-profile__userpanel"},z=Object(n["g"])("img",{id:"imageB",src:B.a},null,-1),D=Object(n["g"])("img",{id:"image",src:B.a},null,-1),V={key:0,class:"inner"},A=Object(n["g"])("label",null,[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",viewBox:"0 0 20 17"},[Object(n["g"])("path",{d:"M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"})])],-1),G={class:"user-profile_info"},J={class:"user-profile__FLName"},$={class:"user-profile__username"},K={class:"user-profile__follower-count"},Q={class:"user-profile__tweet-wrapper"},W={key:1};Object(n["r"])();var X=E((function(e,t,r,a,s,c){var o=Object(n["x"])("CreatTweetPanel"),u=Object(n["x"])("TweetItem");return Object(n["q"])(),Object(n["d"])("div",M,[Object(n["g"])("div",H,[z,D,a.userProfile.test?(Object(n["q"])(),Object(n["d"])("div",V,[Object(n["g"])("input",{class:"inputfile",type:"file",accept:"image/*",onChange:t[1]||(t[1]=function(){return a.updateCover&&a.updateCover.apply(a,arguments)})},null,32),A])):Object(n["e"])("",!0)]),Object(n["g"])("div",G,[Object(n["g"])("h1",J,Object(n["z"])(a.user.UserLoaded.FirstName)+" "+Object(n["z"])(a.user.UserLoaded.LastName),1),Object(n["g"])("p",$,Object(n["z"])(a.user.UserLoaded.UserName),1),Object(n["g"])("div",K,[Object(n["g"])("p",null,"Following: "+Object(n["z"])(a.state.following.length)+" Followers: "+Object(n["z"])(a.state.followers.length),1),a.userProfile.test||a.state.followState?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:t[2]||(t[2]=function(){return a.followF&&a.followF.apply(a,arguments)})},"Follow")),!a.userProfile.test&&a.state.followState?(Object(n["q"])(),Object(n["d"])("button",{key:1,onClick:t[3]||(t[3]=function(){return a.unfollowF&&a.unfollowF.apply(a,arguments)})},"Unfollow")):Object(n["e"])("",!0)]),a.userProfile.test?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("button",{key:0,onClick:t[4]||(t[4]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send Message"))]),Object(n["g"])("div",Q,[a.userProfile.test?(Object(n["q"])(),Object(n["d"])(o,{key:0,onAddTweet:a.addTweet},null,8,["onAddTweet"])):Object(n["e"])("",!0),0===a.state.tweets.length?(Object(n["q"])(),Object(n["d"])("strong",W,"no tweets posted yet")):Object(n["e"])("",!0),(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.state.tweets,(function(e){return Object(n["q"])(),Object(n["d"])(u,{class:"user-profile__tweet",key:e._id,username:a.user.UserLoaded.UserName,tweet:e.Body,userId:e.UserId},null,8,["username","tweet","userId"])})),128))])])})),Y=(r("c975"),r("a434"),r("d3b7"),r("25f0"),Object(n["H"])("data-v-2e08fb78"));Object(n["t"])("data-v-2e08fb78");var Z={for:"newtweet"},ee=Object(n["g"])("strong",null,"New Tweet",-1),te=Object(n["g"])("div",{class:"user-profile__createtweet-type"},null,-1),re=Object(n["g"])("button",null," tweet-t-t ",-1);Object(n["r"])();var ne=Y((function(e,t,r,a,s,c){return Object(n["q"])(),Object(n["d"])("form",{action:"",class:["user-profile__create-tweet",{exceeded:a.newTweetCharacterCount>180}],onSubmit:t[2]||(t[2]=Object(n["G"])((function(){return a.creatNewTweet&&a.creatNewTweet.apply(a,arguments)}),["prevent"]))},[Object(n["g"])("label",Z,[ee,Object(n["f"])(" "+Object(n["z"])(a.newTweetCharacterCount)+"/180",1)]),Object(n["F"])(Object(n["g"])("textarea",{id:"newtweet",extarea:"",style:{resize:"none"},rows:"4","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.state.newTweetContent=e})},null,512),[[n["B"],a.state.newTweetContent]]),te,re],34)})),ae={name:"CreateTweetPanel",setup:function(e,t){var r=Object(n["u"])({newTweetContent:""}),a=Object(n["b"])((function(){return r.newTweetContent.length}));function s(){r.newTweetContent&&(t.emit("addTweet",r.newTweetContent),r.newTweetContent="")}return{state:r,newTweetCharacterCount:a,creatNewTweet:s}}};r("e622");ae.render=ne,ae.__scopeId="data-v-2e08fb78";var se=ae,ce=Object(n["H"])("data-v-f926f394");Object(n["t"])("data-v-f926f394");var oe={class:"chat-box"},ue={class:"chat-box__name-bar"},ie={class:"chat-box__body"},le={key:0,class:"received"},de={key:1,class:"sent"},fe={class:"chat-box__send-message"},be=Object(n["g"])("input",{id:"messageToSend",type:"text",class:"chat-box__message",placeholder:"write a message"},null,-1);Object(n["r"])();var pe=ce((function(e,t,r,a,s,c){return Object(n["q"])(),Object(n["d"])("div",oe,[Object(n["g"])("div",ue,[Object(n["g"])("p",null,Object(n["z"])(r.chatName),1)]),Object(n["g"])("ul",ie,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.discussion.messages,(function(e,t){return Object(n["q"])(),Object(n["d"])("li",{key:t},["received"===e.Mtype?(Object(n["q"])(),Object(n["d"])("p",le,Object(n["z"])(e.message),1)):Object(n["e"])("",!0),"sent"===e.Mtype?(Object(n["q"])(),Object(n["d"])("p",de,Object(n["z"])(e.message),1)):Object(n["e"])("",!0)])})),128))]),Object(n["g"])("div",fe,[be,Object(n["g"])("button",{class:"chat-box__send",onClick:t[1]||(t[1]=function(){return a.sendMessage&&a.sendMessage.apply(a,arguments)})},"Send")])])})),ge=r("8e27"),me=r.n(ge),Oe={props:{chatName:{type:String,required:!0},ProfileName:{type:String,required:!0},chatId:{type:String,required:!0},senderId:{type:String,required:!0},receiverId:{type:String,required:!0}},setup:function(e){var t=Object(n["u"])({socket:"",messages:[]});function r(){var r=document.getElementById("messageToSend").value;O.sendMessage({roomId:e.chatId,body:r,userName:e.ProfileName}).then((function(r){t.socket.emit("message",{text:r.body,receiverId:e.receiverId,date:r.date,senderId:e.senderId,userName:e.ProfileName}),t.messages.push({message:r.body,time:r.date,userName:e.ProfileName,Mtype:"sent"}),document.getElementById("messageToSend").value=""}))}return Object(n["D"])(Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:""!=t.socket?(console.log("starting to listen !!!!"),t.socket.on("message",function(){var r=Object(l["a"])(regeneratorRuntime.mark((function r(n){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:console.log("message recieved in front end",n),a="",a=n.senderId===e.senderId?"sent":"received",t.messages.push({message:n.text,time:n.date,userName:n.userName,Mtype:a});case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())):console.log("waiting for socket io to init");case 1:case"end":return r.stop()}}),r)})))),Object(n["o"])(Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,me()("ws://localhost:5000",{query:"userId="+e.senderId});case 2:t.socket=r.sent,console.log("what is this ?",t.socket),O.getMessages({_id:e.chatId}).then((function(r){var n,a=Object(_["a"])(r);try{for(a.s();!(n=a.n()).done;){var s=n.value,c="";c=s.userId===e.senderId?"sent":"received",t.messages.push({message:s.body,time:s.date,userName:s.userName,Mtype:c})}}catch(o){a.e(o)}finally{a.f()}}));case 5:case"end":return r.stop()}}),r)})))),{discussion:t,sendMessage:r}}};r("6c54");Oe.render=pe,Oe.__scopeId="data-v-f926f394";var je=Oe,we={name:"UserProfile",components:{TweetItem:q,CreatTweetPanel:se},setup:function(e,t){var r=Object(n["u"])({test:null}),a=Object(o["b"])(),s=Object(n["u"])({UserLoaded:{UserName:"",FirstName:"",LastName:""}}),c=Object(n["b"])((function(){return a.state.User.user._id})),u=Object(n["b"])((function(){return a.state.User.user.UserName})),i=Object(d["c"])(),f=Object(n["b"])((function(){return i.params.userId})),b=Object(n["u"])({room:"",followers:[],following:[],followState:!1,tweets:[]});function p(){O.follow({userId:f.value}).then((function(e){b.followState=!0,b.followers.unshift(e.Follower)}))}function g(){O.unFollow({_id:f.value}).then((function(){b.followState=!1;var e=b.followers.indexOf(c.value);e>-1&&b.followers.splice(e,1)}))}function m(e){var t,r=new FileReader;r.onload=function(r){t=r.target.result,O.updateCover({imageFile:t,imageType:e.target.files[0].type}).then((function(){}))},r.readAsDataURL(e.target.files[0])}function j(e){O.Tweet({UserIdT:s.UserLoaded._id,Body:e,UserName:s.UserLoaded.UserName}).then((function(e){b.tweets.unshift({_id:e._id,UserId:e.UserId,Body:e.Body})}))}function w(){return v.apply(this,arguments)}function v(){return v=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.getChatRoom({_id:f.value}).then(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==r){e.next=5;break}return e.next=3,O.makeChatRoom({_id:f.value}).then((function(e){b.room=e._id}));case 3:e.next=6;break;case 5:b.room=r._id;case 6:a=Object(n["c"])(je,{chatName:s.UserLoaded.UserName,ProfileName:u,chatId:b.room,senderId:c.value,receiverId:f.value}),t.emit("openChat",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(n["o"])(Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(c.value!==f.value){e.next=5;break}r.test=!0,s.UserLoaded=a.state.User.user,e.next=9;break;case 5:return r.test=!1,e.next=8,O.getUserId({_id:f.value});case 8:s.UserLoaded=e.sent;case 9:t=f.value,s.UserLoaded.img&&(document.getElementById("image").src=s.UserLoaded.img.toString(),document.getElementById("imageB").src=s.UserLoaded.img.toString()),O.getFollower({_id:t}).then((function(e){var t,r=Object(_["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.Follower===c.value&&(b.followState=!0),b.followers.unshift(n.Follower)}}catch(a){r.e(a)}finally{r.f()}})),O.getFollowing({_id:t}).then((function(e){var t,r=Object(_["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;b.following.unshift(n.Following)}}catch(a){r.e(a)}finally{r.f()}})),O.getTweets({UserIdT:t}).then((function(e){var t,r=Object(_["a"])(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;b.tweets.unshift({_id:n._id,UserId:n.UserId,Body:n.Body})}}catch(a){r.e(a)}finally{r.f()}}));case 14:case"end":return e.stop()}}),e)})))),{user:s,userProfile:r,state:b,userId:f,addTweet:j,followF:p,unfollowF:g,sendMessage:w,updateCover:m}}};r("a334");we.render=X,we.__scopeId="data-v-0a03eaf2";var ve=we,he=Object(n["H"])("data-v-b9cbcb5a");Object(n["t"])("data-v-b9cbcb5a");var ye={class:"body"},Ue={class:"log_in"},_e={class:"sign_up"};Object(n["r"])();var xe=he((function(e,t,r,a,s,c){var o=Object(n["x"])("LogIn"),u=Object(n["x"])("SignUp");return Object(n["q"])(),Object(n["d"])("div",ye,[Object(n["g"])("div",Ue,[Object(n["g"])(o)]),Object(n["g"])("div",_e,[Object(n["g"])(u)])])})),Ie=Object(n["H"])("data-v-137f2e25");Object(n["t"])("data-v-137f2e25");var ke={class:"card"},Re=Object(n["g"])("h2",{class:"title"},"Log In",-1),Ne=Object(n["g"])("label",{for:"emailLogIn"},"E-mail",-1),Ce=Object(n["g"])("label",{for:"passwordLogIn"},"Password",-1),Te=Object(n["g"])("button",{class:"button"}," Log In ",-1);Object(n["r"])();var Fe=Ie((function(e,t,r,a,s,c){return Object(n["q"])(),Object(n["d"])("div",ke,[Re,Object(n["g"])("form",{class:"email_login",action:"",onSubmit:t[3]||(t[3]=Object(n["G"])((function(){return a.logInUser&&a.logInUser.apply(a,arguments)}),["prevent"]))},[Ne,Object(n["F"])(Object(n["g"])("input",{id:"emailLogIn",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.login.Email=e})},null,512),[[n["B"],a.login.Email]]),Ce,Object(n["F"])(Object(n["g"])("input",{id:"passwordLogIn",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.login.HashCode=e})},null,512),[[n["B"],a.login.HashCode]]),Te],32)])})),qe={name:"LogIn",setup:function(){var e=Object(n["u"])({Email:"",HashCode:""});function t(){""!=e.Email&&""!=e.HashCode&&(console.log("calling log in"),O.logIn(e).then((function(e){console.log(e),at.push("/")})))}return{login:e,logInUser:t}}};r("22ee");qe.render=Fe,qe.__scopeId="data-v-137f2e25";var Se=qe,Le=Object(n["H"])("data-v-12e52fc0");Object(n["t"])("data-v-12e52fc0");var Pe={class:"card"},Be=Object(n["g"])("h2",{class:"title"},"Sign Up",-1),Ee=Object(n["g"])("label",{for:"email"},"E-mail",-1),Me=Object(n["g"])("label",{for:"password"},"Password",-1),He=Object(n["g"])("label",{for:"confirmpassword"},"Confirm password",-1),ze=Object(n["g"])("label",{for:"username"},"Username",-1),De=Object(n["g"])("label",{for:"firsname"},"Firsname",-1),Ve=Object(n["g"])("label",{for:"lastname"},"Lastname",-1),Ae=Object(n["g"])("button",{class:"button"}," Sign Up ",-1);Object(n["r"])();var Ge=Le((function(e,t,r,a,s,c){return Object(n["q"])(),Object(n["d"])("div",Pe,[Be,Object(n["g"])("form",{class:"email_sign_up",action:"",onSubmit:t[7]||(t[7]=Object(n["G"])((function(){return a.signUpUser&&a.signUpUser.apply(a,arguments)}),["prevent"]))},[Ee,Object(n["F"])(Object(n["g"])("input",{id:"email",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userData.Email=e})},null,512),[[n["B"],a.userData.Email]]),Me,Object(n["F"])(Object(n["g"])("input",{id:"password",type:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.userData.password=e})},null,512),[[n["B"],a.userData.password]]),He,Object(n["F"])(Object(n["g"])("input",{id:"confirmpassword",type:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.userData.confpassword=e})},null,512),[[n["B"],a.userData.confpassword]]),ze,Object(n["F"])(Object(n["g"])("input",{id:"username",type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.userData.UserName=e})},null,512),[[n["B"],a.userData.UserName]]),De,Object(n["F"])(Object(n["g"])("input",{id:"firsname",type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.userData.FirstName=e})},null,512),[[n["B"],a.userData.FirstName]]),Ve,Object(n["F"])(Object(n["g"])("input",{id:"lastname",type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.userData.LastName=e})},null,512),[[n["B"],a.userData.LastName]]),Ae],32)])})),Je={name:"SignUp",setup:function(){var e=Object(n["u"])({Email:"",Password:"",Confpassword:"",UserName:"",FirstName:"",LastName:""});function t(){e.password===e.confpassword&&""!=e.Email&&""!=e.password&&""!=e.UserName&&""!=e.FirstName&&""!=e.LastName&&(console.log("passed check"),O.signUp(e).then((function(e){console.log(e),at.push("/")})))}return{userData:e,signUpUser:t}}};r("e5b8");Je.render=Ge,Je.__scopeId="data-v-12e52fc0";var $e=Je,Ke={name:"LogInSignUp",components:{LogIn:Se,SignUp:$e}};r("4bc0");Ke.render=xe,Ke.__scopeId="data-v-b9cbcb5a";var Qe=Ke,We=Object(n["H"])("data-v-2754a2ff");Object(n["t"])("data-v-2754a2ff");var Xe={class:"admin"},Ye=Object(n["g"])("h1",null,"Admin",-1);Object(n["r"])();var Ze=We((function(e,t,r,a,s,c){return Object(n["q"])(),Object(n["d"])("div",Xe,[Ye])})),et={name:"Admin"};r("bb34");et.render=Ze,et.__scopeId="data-v-2754a2ff";var tt=et,rt=[{path:"/",name:"Home",component:L,meta:{requiresUser:!0}},{path:"/User/:userId",name:"UserProfile",component:ve,meta:{requiresUser:!0}},{path:"/loginOrsignup",name:"signup",component:Qe,meta:{requiresUser:!1}},{path:"/admin",name:"Admin",component:tt,meta:{requiresUser:!0,requiresAdmin:!0}}],nt=Object(d["a"])({history:Object(d["b"])(),routes:rt});nt.beforeEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.auth();case 2:if(a=e.sent,s=t.matched.some((function(e){return e.meta.requiresUser})),null!==b.state.User.user||s){e.next=8;break}n(),e.next=21;break;case 8:if(a.loggedIn){e.next=12;break}n({name:"signup"}),e.next=21;break;case 12:if(null!==b.state.User.user){e.next=20;break}return e.next=15,O.getUser();case 15:c=e.sent,b.dispatch("User/setUser",c),n(),e.next=21;break;case 20:n();case 21:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());var at=nt;Object(n["c"])(i).use(b).use(at).mount("#app")},"5fe1":function(e,t,r){},"6c54":function(e,t,r){"use strict";r("8dce")},"8afe":function(e,t,r){},"8dce":function(e,t,r){},"9eba":function(e,t,r){},"9f08":function(e,t,r){},a334:function(e,t,r){"use strict";r("8afe")},bb34:function(e,t,r){"use strict";r("9eba")},dd54:function(e,t,r){},e5b8:function(e,t,r){"use strict";r("9f08")},e622:function(e,t,r){"use strict";r("2854")},f65d:function(e,t,r){e.exports=r.p+"img/color-2174045_640.1376d23c.png"},f9e0:function(e,t,r){}});
//# sourceMappingURL=app.bbd87a41.js.map